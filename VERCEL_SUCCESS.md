# üöÄ VERCEL DEPLOYMENT: –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ API Endpoints –∏ –ü—Ä–æ–¥–∞–∫—à–Ω –î–µ–ø–ª–æ–π

**–î–∞—Ç–∞:** 2024-12-19  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –£—Å–ø–µ—à–Ω–æ —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç–æ –∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ  
**–ö–æ–º–º–∏—Ç—ã:**

- `5fa974c2dc35cd33ff86e5a551ce9022017da879` (–ü–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω—ã–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è)
- `a3c7692` (–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ ES –º–æ–¥—É–ª–µ–π)

## üéØ –ß—Ç–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ –∏ —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç–æ

### üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –æ—à–∏–±–æ–∫ TypeScript –≤ API

- **–ü—Ä–æ–±–ª–µ–º–∞:** API endpoints –ø–∞–¥–∞–ª–∏ –Ω–∞ Vercel –∏–∑-–∑–∞ –æ—à–∏–±–æ–∫ TypeScript
- **–†–µ—à–µ–Ω–∏–µ:** –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –æ—à–∏–±–∫–∏ –≤ —Å—Ö–µ–º–∞—Ö –∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏
- **–†–µ–∑—É–ª—å—Ç–∞—Ç:** API endpoints —Ä–∞–±–æ—Ç–∞—é—Ç —Å—Ç–∞–±–∏–ª—å–Ω–æ

### ‚ö° –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ ES Modules –∫–æ–Ω—Ñ–ª–∏–∫—Ç–∞

- **–ü—Ä–æ–±–ª–µ–º–∞:** `ReferenceError: exports is not defined in ES module scope`
- **–ü—Ä–∏—á–∏–Ω–∞:** –ö–æ–Ω—Ñ–ª–∏–∫—Ç –º–µ–∂–¥—É `"type": "module"` –≤ package.json –∏ CommonJS —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–æ–º
- **–†–µ—à–µ–Ω–∏–µ:**
  - –ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω—ã API —Ñ–∞–π–ª—ã –≤ `.mjs` —Ñ–æ—Ä–º–∞—Ç
  - –°–æ–∑–¥–∞–Ω –æ—Ç–¥–µ–ª—å–Ω—ã–π `api/package.json` —Å `"type": "commonjs"`
  - –£–¥–∞–ª–µ–Ω—ã TypeScript –∏–º–ø–æ—Ä—Ç—ã –∏–∑ .mjs —Ñ–∞–π–ª–æ–≤
  - –û–±–Ω–æ–≤–ª–µ–Ω–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è `vercel.json`

### üìù –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

1. **`src/schemas/index.ts`:**

   - –î–æ–±–∞–≤–ª–µ–Ω—ã –Ω–µ–¥–æ—Å—Ç–∞—é—â–∏–µ –ø–æ–ª—è `is_bot` –∏ `language_code` –≤ `UserSchema`
   - –û–±–µ—Å–ø–µ—á–µ–Ω–∞ —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö

2. **`src/utils/validation-zod.ts`:**

   - –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ —Ç–∏–ø–∏–∑–∞—Ü–∏—è `validateArray` –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å `ZodEffects`
   - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Å—Ö–µ–º —Å `.transform()` –º–µ—Ç–æ–¥–∞–º–∏

3. **`api/health.mjs`:** (–ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω –∏–∑ .ts)

   - –£–ø—Ä–æ—â–µ–Ω endpoint –¥–ª—è —É—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
   - –ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞–Ω –≤ ES –º–æ–¥—É–ª—å —Ñ–æ—Ä–º–∞—Ç
   - –£–¥–∞–ª–µ–Ω—ã TypeScript –∏–º–ø–æ—Ä—Ç—ã

4. **`api/webhook.mjs`:** (–ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω –∏–∑ .ts)

   - –£–ø—Ä–æ—â–µ–Ω webhook endpoint
   - –ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞–Ω –≤ ES –º–æ–¥—É–ª—å —Ñ–æ—Ä–º–∞—Ç
   - –£–¥–∞–ª–µ–Ω—ã TypeScript –∏–º–ø–æ—Ä—Ç—ã

5. **`api/package.json`:** (–Ω–æ–≤—ã–π —Ñ–∞–π–ª)

   - –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω `"type": "commonjs"` –¥–ª—è API –ø–∞–ø–∫–∏

6. **`vercel.json`:**
   - –û–±–Ω–æ–≤–ª–µ–Ω—ã –ø—É—Ç–∏ –¥–ª—è .mjs —Ñ–∞–π–ª–æ–≤
   - –ù–∞—Å—Ç—Ä–æ–µ–Ω—ã –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã

### üöÄ Vercel Deployment

- **URL:** https://instagram-scraper-ncmvwiufr-ghashtag.vercel.app
- **Health Check:** `/api/health` ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç —Å –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–µ–π
- **Webhook:** `/api/webhook` ‚úÖ –ü—Ä–∏–Ω–∏–º–∞–µ—Ç POST –∑–∞–ø—Ä–æ—Å—ã
- **–°—Ç–∞—Ç—É—Å:** Production Ready —Å Vercel Authentication
- **–û—à–∏–±–∫–∏ ES –º–æ–¥—É–ª–µ–π:** ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã

### üìä –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

- **ES Modules –æ—à–∏–±–∫–∏:** ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã (0 –æ—à–∏–±–æ–∫)
- **TypeScript –æ—à–∏–±–∫–∏ –≤ API:** ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã (0 –æ—à–∏–±–æ–∫)
- **–û–±—â–∏–µ –æ—à–∏–±–∫–∏ TypeScript:** ‚ö†Ô∏è 852 –æ—à–∏–±–∫–∏ (–Ω–µ –∫—Ä–∏—Ç–∏—á–Ω—ã –¥–ª—è API)
- **–í—Ä–µ–º—è –¥–µ–ø–ª–æ—è:** ~3 —Å–µ–∫—É–Ω–¥—ã
- **–°—Ç–∞—Ç—É—Å —Å–±–æ—Ä–∫–∏:** ‚úÖ –£—Å–ø–µ—à–Ω–æ

### üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- **Vercel Authentication:** –í–∫–ª—é—á–µ–Ω–∞ –¥–ª—è –≤—Å–µ—Ö endpoints
- **Environment Variables:** –ü—Ä–æ–≤–µ—Ä—è—é—Ç—Å—è –≤ health check
- **Error Handling:** –ë–µ–∑–æ–ø–∞—Å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –±–µ–∑ —É—Ç–µ—á–∫–∏ –¥–∞–Ω–Ω—ã—Ö

### üõ† –ö–æ–º–∞–Ω–¥—ã –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è

```bash
# –î–µ–ø–ª–æ–π –Ω–∞ Vercel
vercel --prod

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞
vercel ls

# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤ —Å–±–æ—Ä–∫–∏
vercel inspect --logs <deployment-url>

# –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞
vercel dev
```

### üéØ –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ

- **Health Monitoring:** –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ —Å–µ—Ä–≤–∏—Å–∞ –∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
- **Webhook Integration:** –ì–æ—Ç–æ–≤ –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å Telegram Bot API
- **Production Ready:** –°—Ç–∞–±–∏–ª—å–Ω–∞—è —Ä–∞–±–æ—Ç–∞ –≤ –ø—Ä–æ–¥–∞–∫—à–Ω —Å—Ä–µ–¥–µ
- **Scalable:** –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ Vercel

### üí° –ö–ª—é—á–µ–≤—ã–µ –∏–Ω—Å–∞–π—Ç—ã

1. **ES Modules vs CommonJS:** –í–∞–∂–Ω–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—Ç—å type –≤ package.json –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —á–∞—Å—Ç–µ–π –ø—Ä–æ–µ–∫—Ç–∞
2. **Vercel –∏ TypeScript:** Serverless —Ñ—É–Ω–∫—Ü–∏–∏ —Ç—Ä–µ–±—É—é—Ç –æ—Å–æ–±–æ–≥–æ –≤–Ω–∏–º–∞–Ω–∏—è –∫ –º–æ–¥—É–ª—å–Ω–æ–π —Å–∏—Å—Ç–µ–º–µ
3. **–ò–∑–æ–ª—è—Ü–∏—è API:** –£–ø—Ä–æ—â–µ–Ω–∏–µ API endpoints —É—Å—Ç—Ä–∞–Ω—è–µ—Ç —Å–ª–æ–∂–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
4. **–ë—ã—Å—Ç—Ä—ã–π –¥–µ–ø–ª–æ–π:** Vercel –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –º–≥–Ω–æ–≤–µ–Ω–Ω–æ–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ

### üîÑ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

- [x] ‚úÖ –ò—Å–ø—Ä–∞–≤–∏—Ç—å ES –º–æ–¥—É–ª–∏ –∫–æ–Ω—Ñ–ª–∏–∫—Ç
- [x] ‚úÖ –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å API endpoints
- [ ] –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è –≤ Vercel Dashboard
- [ ] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Telegram Bot API —á–µ—Ä–µ–∑ webhook
- [ ] –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –∏ –æ—à–∏–±–æ–∫
- [ ] –ü–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—Å—Ç–∞–≤—à–∏—Ö—Å—è TypeScript –æ—à–∏–±–æ–∫

---

**üöÄ Instagram Scraper Bot —É—Å–ø–µ—à–Ω–æ —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç –Ω–∞ Vercel –∏ –≥–æ—Ç–æ–≤ –∫ –ø—Ä–æ–¥–∞–∫—à–Ω –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!**
