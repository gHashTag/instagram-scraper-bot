import { initializeDBConnection, getDB } from "./src/db/neonDB.js"; import { reelsTable } from "./src/db/schema.js"; import { desc, gt } from "drizzle-orm"; initializeDBConnection(); const db = getDB(); const reels = await db.select({ id: reelsTable.id, author_username: reelsTable.author_username, views_count: reelsTable.views_count, video_download_url: reelsTable.video_download_url, short_code: reelsTable.short_code }).from(reelsTable).where(gt(reelsTable.views_count, 50000)).orderBy(desc(reelsTable.views_count)).limit(5); console.log("üé¨ –¢–û–ü-5 –†–ï–ò–õ–û–í –° 50K+ –ü–†–û–°–ú–û–¢–†–ê–ú–ò:"); reels.forEach((reel, i) => { console.log(`${i+1}. @${reel.author_username} - ${reel.views_count?.toLocaleString()} –ø—Ä–æ—Å–º.`); console.log(`   ID: ${reel.id}, Short Code: ${reel.short_code || "NULL"}`); console.log(`   Video URL: ${reel.video_download_url ? "‚úÖ –ï–°–¢–¨" : "‚ùå –û–¢–°–£–¢–°–¢–í–£–ï–¢"}`); });
